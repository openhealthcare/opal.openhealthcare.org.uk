<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Discoverable - Opal</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../opaldocs.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">
              <img src="/img/opallogo.png" height="30"/>
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../installation/">Installation</a>
                </li>
            
            
            
                <li >
                    <a href="../../tutorial/">Tutorial</a>
                </li>
            
            
            
                <!-- <li class="dropdown"> -->
                <!--     <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a> -->
                <!--     <ul class="dropdown-menu"> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../tutorials/pathway_tutorial/">Pathway tutorial</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../tutorials/theming_tutorial/">Theming tutorial</a> -->
                <!--         </li> -->
                <!--      -->
                <!--     </ul> -->
                <!-- </li> -->
            
            
            
                <li >
                    <a href="../../guides/topic-guides/">Guides</a>
                </li>
            
            
            
                <li >
                    <a href="../reference_guides/">Reference</a>
                </li>
            
            
            
                <!-- <li class="dropdown"> -->
                <!--     <a href="#" class="dropdown-toggle" data-toggle="dropdown">Topic Guides <b class="caret"></b></a> -->
                <!--     <ul class="dropdown-menu"> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/components_overview/">Component Overview</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/command_line_tool/">Command Line tool</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/discoverable/">Discoverable Features</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/plugins/">Plugins</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/plugins_list/">Plugin List</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/datamodel/">Data Model</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/episodes/">Episodes</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/archetypes/">Archetypes</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/referencedata/">Referencedata</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/metadata/">Metadata</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/working_with_data_in_angular/">Angular Models</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/flow/">Flow</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/roles_and_permissions/">Roles & Permissions</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/tagging/">Tagging</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/json_api/">JSON API</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/theming/">Theming</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/templates/">Templates</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/context_processors/">Context Processors</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/static_files/">Static Files</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/forms/">Forms</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/patient_detail_views/">Patient Detail Views</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/list_views/">Patient List Views</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/search/">Search Overview</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/pathways/">Pathway Overview</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/django_admin/">Django Admin</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/CONTRIBUTING/">Contributing</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/development_environment/">Development environment</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/releasing/">Releasing</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../../guides/deployment/">Deployment</a> -->
                <!--         </li> -->
                <!--      -->
                <!--     </ul> -->
                <!-- </li> -->
            
            
            
                <!-- <li class="dropdown active"> -->
                <!--     <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a> -->
                <!--     <ul class="dropdown-menu"> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../episode/">The Episode model</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../patient/">The Patient model</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../subrecords/">Subrecords</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../user_profile_model/">UserProfile</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../mixins/">Mixins</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../opal_application/">OpalApplication</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../detail_views/">Detail Views</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../episode_categories/">Episode Categories</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../schemas/">Schemas</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../patient_list/">Patient Lists</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../plugin/">OpalPlugin</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../core_views/">Core.Views</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../core_menus/">Menus</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../loggers/">Log</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../core_fields/">Fields</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../core_lookuplists/">Lookuplists</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li class="active"> -->
                <!--             <a href="./">Discoverable</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/patient_service/">Patient service</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/episode_service/">Episode service</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/item_service/">Item service</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/user_service/">User service</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/patient_summary_service/">Patient summary service</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/search_js_services/">Search JS Services</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/loaders/">Loaders</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../form_templatetags/">Form helpers</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../panels_templatetags/">Panel Template tags</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../menus_templatetags/">Menu Template tag</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/javascript_helpers/">Javascript helpers</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../search_queries/">Search Queries</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../pathways/">Pathway</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../settings/">Settings</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../CHANGELOG/">Changelog</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../testing/">Testing</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../javascript/javascript_dependencies/">Javascript dependencies</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../upgrading/">Upgrading</a> -->
                <!--         </li> -->
                <!--      -->
                <!--         <li > -->
                <!--             <a href="../management_commands/">Management commands</a> -->
                <!--         </li> -->
                <!--      -->
                <!--     </ul> -->
                <!-- </li> -->
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
              <li>
                <a href="https://github.com/openhealthcare/opal/tree/v0.10.1" target="_blank">
                  <i class="fa fa-github"></i> v0.10.1
                </a>
              </li>
                <!-- <li > -->
                <!--     <a rel="next" href="../core_lookuplists/"> -->
                <!--         <i class="fa fa-arrow-left"></i> Previous -->
                <!--     </a> -->
                <!-- </li> -->
                <!-- <li > -->
                <!--     <a rel="prev" href="../javascript/patient_service/"> -->
                <!--         Next <i class="fa fa-arrow-right"></i> -->
                <!--     </a> -->
                <!-- </li> -->
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
  <h3>Contents</h3>
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#opalcorediscoverable">opal.core.discoverable</a></li>
        
            <li><a href="#discoverablefeature">DiscoverableFeature</a></li>
        
            <li><a href="#sortablefeature">SortableFeature</a></li>
        
            <li><a href="#restrictablefeature">RestrictableFeature</a></li>
        
            <li><a href="#restrictablefeaturefor_useruser">RestrictableFeature.for_user(user)</a></li>
        
            <li><a href="#restrictablefeaturevisible_touser">RestrictableFeature.visible_to(user)</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="opalcorediscoverable">opal.core.discoverable</h1>
<p>The <code>opal.core.discoverable</code> module contans base discoverable classes for creating
features which can be re-used and subcalssd.</p>
<h2 id="discoverablefeature">DiscoverableFeature</h2>
<p>The base discoverable class which provides functionality to all discoverables.</p>
<p><strong>DiscoverableFeature properties</strong></p>
<h3 id="discoverablefeaturemodule_name">DiscoverableFeature.module_name</h3>
<p>The name of the python module in which Opal will look for instances of this
discoverable. For instance in the following feature, Opal would look in every
installed app at <code>app/ciao.py</code> for subclasses of <code>Greeting</code>, even if that module
had not been directly imported already.</p>
<pre><code class="python">from opal.core import discoverable

class Greeting(discoverable.DiscoverableFeature):
  module_name = 'ciao'
</code></pre>

<h3 id="discoverablefeaturedisplay_name">DiscoverableFeature.display_name</h3>
<p>The human readable name for an instance of a discoverable. Use this in the UI
when showing the discoverable to users.</p>
<h3 id="discoverablefeatureslug">DiscoverableFeature.slug</h3>
<p>The slug for this discoverable used in URLs. Note that Opal internally useses
the <code>get_slug</code> method below to allow more dynamic slugs.</p>
<p><strong> DiscoverableFeature classmethods </strong></p>
<h3 id="discoverablefeatureis_valid">DiscoverableFeature.is_valid()</h3>
<p>Stub function that is called at class definition to determine whether an instance
is valid. Useful for enforcing business logic and expectations for third party
features. Expected to raise an exception if something is wrong.</p>
<h3 id="discoverablefeatureget_slug">DiscoverableFeature.get_slug()</h3>
<p>Return the slug for this feature. Defaults to returning the <code>slug</code> property if
it is set, or running a slugify function on the <code>display_name</code>. If neither is
set it will raise a ValueError.</p>
<pre><code class="python">MyFeature.get_slug()
# -&gt; &quot;my-feature&quot;
</code></pre>

<h3 id="discoverablefeaturelist">DiscoverableFeature.list()</h3>
<p>Return a generator that yields all implementations of a discoverable.</p>
<pre><code>for g in Greeting.list():
    print g.display_name

&quot;Bonjour&quot;
&quot;Hola&quot;
&quot;Namaste&quot;
&quot;Salaam&quot;
</code></pre>

<h3 id="discoverablefeaturefilterkwargs">DiscoverableFeature.filter(**kwargs)</h3>
<p>Find instances of a feature based on the value of their attributes. You may pass
attributes of features as keyword arguments. Returns a list of matching features.</p>
<pre><code class="python">Greeting.filter(module_name='ciao') # Essentially the same as .list()

Greeting.filter(slug=&quot;bonjour&quot;, display_name=&quot;Bonjour&quot;)
# -&gt; [BonjourGreeting]
</code></pre>

<h2 id="sortablefeature">SortableFeature</h2>
<p>A mixin class that provides ordering for features which will be respected
by both <code>list()</code> and <code>filter()</code>.</p>
<p><strong> Properties </strong></p>
<h3 id="sortablefeatureorder">SortableFeature.order</h3>
<p>An integer which is used to sort features.</p>
<p><strong> SortableFeature classmethods </strong></p>
<h3 id="sortablefeaturelist">SortableFeature.list()</h3>
<p>Returns instances of the feature orderd by <code>.order</code></p>
<pre><code class="python">class Greeting(discoverable.DiscoverableFeature,
               discoverable.SortableFeature):
    module_name='ciao'

class Namaste(Greeting):
    order = 2

class Hello(Greeting):
    order = 32098239021

class Bonjour(Greeting):
    order = 1

for f in Greeting.list():
    print f, f.order

# &lt;class '*.*.Bonjour'&gt;, 1
# &lt;class '*.*.Namaste'&gt;, 2
# &lt;class '*.*.Hello'&gt;, 3

</code></pre>

<h2 id="restrictablefeature">RestrictableFeature</h2>
<p>A mixin class that provides an interface for restricting access to features based on
user.</p>
<pre><code class="python">class Greeting(discoverable.DiscoverableFeature,
               discoverable.RestrictableFeature):
    module_name='ciao'

</code></pre>

<p><strong> RestrictableFeature classmethods </strong></p>
<h2 id="restrictablefeaturefor_useruser">RestrictableFeature.for_user(user)</h2>
<p>Generator method that yields all instances of this discoverable which are visible to
a given user.</p>
<pre><code>for f in Greeting.for_user(user):
    print f

# &lt;class '*.*.Bonjour'&gt;
# &lt;class '*.*.Namaste'&gt;
# &lt;class '*.*.Hello'&gt;
</code></pre>

<h2 id="restrictablefeaturevisible_touser">RestrictableFeature.visible_to(user)</h2>
<p>Predicate function used to determine whehter in individual feature should be visible
to a given user. Defaults to simply returning True.</p>
<p>Features may override this to provide restricted access as required.</p>
<pre><code class="python">Hello.visible_to(user) # -&gt; True
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <img src="/img/opallogo.png" class="pull-left"/>
            <center>
              <br />
              Opal is an open source framework for building clinical applications from
              <a href="http://openhealthcare.org.uk" target="_blank">Open Health Care UK</i></a>.
            </center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
          <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35112560-5', 'openhealthcare.org.uk');
  ga('send', 'pageview');
          </script>

    </body>
</html>